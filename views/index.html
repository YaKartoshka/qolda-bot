<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event List</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
    <style>
        .event-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .event-card {
            margin-bottom: 20px;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="javascript:void(0)">Qolda</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="mynavbar">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:void(0)">–ì–ª–∞–≤–Ω–∞—è</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:void(0)">Shop</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:void(0)">Telegram Bot</a>
                        </li>
                    </ul>
                    <form class="d-flex text-white">
                        <label for="" class="pe-5">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç: <span id="coins">0</span></label>
                    </form>
                </div>
            </div>
        </nav>
    </header>
    <div class="container mt-4">
        <h1 class="mb-4">–°–ø–∏—Å–æ–∫ –ò–≤–µ–Ω—Ç–æ–≤</h1>
        <div class="row mb-3">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="cityFilter">–ì–æ—Ä–æ–¥:</label>
                    <select id="cityFilter" class="form-select">
                        <option value="–í—Å–µ">–í—Å–µ</option>
                        <option value="–ê–ª–º–∞—Ç—ã">–ê–ª–º–∞—Ç—ã</option>
                        <option value="–ù—É—Ä-–°—É–ª—Ç–∞–Ω">–ù—É—Ä-–°—É–ª—Ç–∞–Ω</option>
                        <option value="–®—ã–º–∫–µ–Ω—Ç">–®—ã–º–∫–µ–Ω—Ç</option>
                        <option value="–û–Ω–ª–∞–π–Ω">–û–Ω–ª–∞–π–Ω</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="categoryFilter">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <select id="categoryFilter" class="form-select">
                        <option value="–í—Å–µ">–í—Å–µ</option>
                        <option value="–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ">–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</option>
                        <option value="–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö">–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö</option>
                        <option value="–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ">–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ</option>
                        <option value="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏</option>
                        <option value="–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏">–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row" id="eventsList">

        </div>
    </div>
    <script type="text/javascript" src="https://s2.webapi.ai/chat-widget/uniq-chat.js"></script>

    <script>
        var ailabs_user_info = {
            'client': 'c1615',
            'welcome_message': 'Welcome to the chat üëã',
            'popup_mode': 0, //0-off, 1-auto popup after 10 seconds for new users
            'position': 1, //1-bottom right, 2-bottom left
            'input_comment': 'Type your message or /start to restart'
        };
        AILabsChatStart();
    </script>

    <script>
        var globalEvents;
        // const events = [
        //     {
        //         title: '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è "–ó–µ–ª–µ–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞"',
        //         date: '15-16 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ, –ø–æ—Å–≤—è—â–µ–Ω–Ω–æ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º —ç–∫–æ–ª–æ–≥–∏–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è. –í –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–∫–ª–∞–¥—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –ø–∞–Ω–µ–ª—å–Ω—ã–µ –¥–∏—Å–∫—É—Å—Å–∏–∏ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ–º–∏–Ω–∞—Ä—ã.',
        //         category: '–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–≠–∫–æ-—Ñ–µ—Å—Ç–∏–≤–∞–ª—å "–ó–µ–ª–µ–Ω—ã–π –≥–æ—Ä–æ–¥"',
        //         date: '20-22 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–§–µ—Å—Ç–∏–≤–∞–ª—å, –≤–∫–ª—é—á–∞—é—â–∏–π –≤—ã—Å—Ç–∞–≤–∫—É —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –ø–æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ –æ—Ç—Ö–æ–¥–æ–≤ –∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º.',
        //         category: '–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç "–°–ø–∞—Å–µ–º –ø–ª–∞–Ω–µ—Ç—É"',
        //         date: '2 –¥–µ–∫–∞–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–≤–µ—Å—Ç, –≥–¥–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–µ—à–∞—é—Ç —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –∏ –ø–æ–ª—É—á–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ø–æ—Å–æ–±–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã.',
        //         category: '–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–í—ã—Å—Ç–∞–≤–∫–∞ "–£—Å—Ç–æ–π—á–∏–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"',
        //         date: '15-17 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–í—ã—Å—Ç–∞–≤–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —Ä–µ—à–µ–Ω–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –∏ —ç–∫–æ–ª–æ–≥–∏–∏.',
        //         category: '–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–∏–∫–Ω–∏–∫ "–ü—Ä–∏—Ä–æ–¥–∞ –∏ –º—ã"',
        //         date: '30 —Å–µ–Ω—Ç—è–±—Ä—è 2024',
        //         city: '–®—ã–º–∫–µ–Ω—Ç',
        //         description: '–ü–∏–∫–Ω–∏–∫ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ —Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ –ø–æ —É–±–æ—Ä–∫–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, —ç–∫–æ-–∏–≥—Ä–∞–º –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞–º–∏.',
        //         category: '–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },

        //     {
        //         title: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ "–≠–∫–æ-–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ –≥–æ—Ä–æ–¥–∞"',
        //         date: '5 –¥–µ–∫–∞–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.',
        //         category: '–≠–∫–æ–ª–æ–≥–∏—è –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–§–µ—Å—Ç–∏–≤–∞–ª—å –∑–∞—â–∏—Ç—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö "–°–µ—Ä–¥—Ü–µ –¥–ª—è —Ö–≤–æ—Å—Ç–∏–∫–æ–≤"',
        //         date: '8-9 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–§–µ—Å—Ç–∏–≤–∞–ª—å —Å –≤—ã—Å—Ç–∞–≤–∫–æ–π –∂–∏–≤–æ—Ç–Ω—ã—Ö, –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∞–∫—Ü–∏—è–º–∏ –∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞–º–∏ –ø–æ —É—Ö–æ–¥—É –∑–∞ –ø–∏—Ç–æ–º—Ü–∞–º–∏.',
        //         category: '–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         image: 'https://via.placeholder.com/400x200',
        //     },

        //     {
        //         title: '–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–∞—è —è—Ä–º–∞—Ä–∫–∞ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–∏—é—Ç–æ–≤ –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         date: '28 —Å–µ–Ω—Ç—è–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–Ø—Ä–º–∞—Ä–∫–∞ —Å –ø—Ä–æ–¥–∞–∂–µ–π —Ç–æ–≤–∞—Ä–æ–≤ –∏ —É—Å–ª—É–≥, –≥–¥–µ –≤—Å–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –±—É–¥—É—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–∏—é—Ç–æ–≤ –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö.',
        //         category: '–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–ö—É—Ä—Å –ø–æ –æ–±—É—á–µ–Ω–∏—é –∂–∏–≤–æ—Ç–Ω—ã—Ö "–£–º–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã"',
        //         date: '15 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–ö—É—Ä—Å –ø–æ –æ–±—É—á–µ–Ω–∏—é –¥–æ–º–∞—à–Ω–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º –∏ —Ç—Ä—é–∫–∞–º –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏ –æ–±—â–µ–Ω–∏—è.',
        //         category: '–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         image: 'https://via.placeholder.com/400x200',
        //     },

        //     {
        //         title: '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è –ø–æ –∑–∞—â–∏—Ç–µ –ø—Ä–∞–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö "–ì–æ–ª–æ—Å –±–µ–∑–º–æ–ª–≤–Ω—ã—Ö"',
        //         date: '30 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è —Å —É—á–∞—Å—Ç–∏–µ–º —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω–∏–∫–æ–≤, –æ–±—Å—É–∂–¥–∞—é—â–∞—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞—â–∏—Ç—ã –ø—Ä–∞–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö.',
        //         category: '–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–§–µ—Å—Ç–∏–≤–∞–ª—å –∫–æ—à–µ–∫ "–ö–æ—à–∞—á—å–∏ –∏—Å—Ç–æ—Ä–∏–∏"',
        //         date: '15 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–®—ã–º–∫–µ–Ω—Ç',
        //         description: '–§–µ—Å—Ç–∏–≤–∞–ª—å, –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã–π –∫–æ—à–∫–∞–º, —Å –≤—ã—Å—Ç–∞–≤–∫–∞–º–∏, –∫–æ–Ω–∫—É—Ä—Å–∞–º–∏ –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π —ç—Ç–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö.',
        //         category: '–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         date: '25 —Å–µ–Ω—Ç—è–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–°–µ–º–∏–Ω–∞—Ä –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è —Å–æ–≤–µ—Ç—ã –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å—Ç—Ä–µ—Å—Å–æ–º –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–∏—Ç–æ–º—Ü–µ–≤.',
        //         category: '–ó–∞—â–∏—Ç–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö',
        //         image: 'https://via.placeholder.com/400x200',
        //     },

        //     {
        //         title: '–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–ª "–°–µ—Ä–¥—Ü–µ –∫ —Å–µ—Ä–¥—Ü—É"',
        //         date: '5 –¥–µ–∫–∞–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤ –∏ –ø—Ä–æ–≥—Ä–∞–º–º.',
        //         category: '–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–ü–∞–Ω–µ–ª—å–Ω–∞—è –¥–∏—Å–∫—É—Å—Å–∏—è "–ë—É–¥—É—â–µ–µ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞"',
        //         date: '10 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–ü–∞–Ω–µ–ª—å–Ω–∞—è –¥–∏—Å–∫—É—Å—Å–∏—è —Å —É—á–∞—Å—Ç–∏–µ–º —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ –ª–∏–¥–µ—Ä–æ–≤ –º–Ω–µ–Ω–∏–π –æ –±—É–¥—É—â–µ–º —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞.',
        //         category: '–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–§–æ—Ä—É–º "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ä—Ç–∞–ø—ã"',
        //         date: '15 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–®—ã–º–∫–µ–Ω—Ç',
        //         description: '–§–æ—Ä—É–º, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç–∞—Ä—Ç–∞–ø—ã –∏ –ø—Ä–æ–µ–∫—Ç—ã –≤ –æ–±–ª–∞—Å—Ç–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.',
        //         category: '–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ',
        //         image: 'https://via.placeholder.com/400x200',
        //     },

        //     {
        //         title: '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è –ø–æ IT-–∏–Ω–Ω–æ–≤–∞—Ü–∏—è–º "–ë—É–¥—É—â–µ–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π"',
        //         date: '5 –¥–µ–∫–∞–±—Ä—è 2024',
        //         city: '–®—ã–º–∫–µ–Ω—Ç',
        //         description: '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è, –ø–æ—Å–≤—è—â–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º –≤ –æ–±–ª–∞—Å—Ç–∏ IT –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.',
        //         category: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–í–æ—Ä–∫—à–æ–ø "–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"',
        //         date: '20 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –æ—Å–Ω–æ–≤–∞–º UX/UI –¥–∏–∑–∞–π–Ω–∞.',
        //         category: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–•–∞–∫–∞—Ç–æ–Ω –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è —É–º–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞',
        //         date: '15-17 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–•–∞–∫–∞—Ç–æ–Ω, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≥–æ—Ä–æ–¥—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏.',
        //         category: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–ö—É—Ä—Å "–û—Å–Ω–æ–≤—ã –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞"',
        //         date: '1 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–®—ã–º–∫–µ–Ω—Ç',
        //         description: '–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫—É—Ä—Å –ø–æ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É –∏ –º–∞—à–∏–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é, –≤–∫–ª—é—á–∞—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è –∏ –ø—Ä–æ–µ–∫—Ç—ã.',
        //         category: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },


        //     {
        //         title: '–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–Ω—ã–º –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞',
        //         date: '15 –Ω–æ—è–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫–æ–º–∞–Ω–¥–Ω—ã–º –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞, —Ç–∞–∫–∏–º –∫–∞–∫ —Ñ—É—Ç–±–æ–ª, –±–∞—Å–∫–µ—Ç–±–æ–ª –∏ –≤–æ–ª–µ–π–±–æ–ª.',
        //         category: '–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–§–µ—Å—Ç–∏–≤–∞–ª—å —É–ª–∏—á–Ω–æ–≥–æ —Å–ø–æ—Ä—Ç–∞',
        //         date: '30 —Å–µ–Ω—Ç—è–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–§–µ—Å—Ç–∏–≤–∞–ª—å —É–ª–∏—á–Ω—ã—Ö –≤–∏–¥–æ–≤ —Å–ø–æ—Ä—Ç–∞, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å–∫–µ–π—Ç–±–æ—Ä–¥–∏–Ω–≥, –ø–∞—Ä–∫—É—Ä –∏ —É–ª–∏—á–Ω—ã–π –±–∞—Å–∫–µ—Ç–±–æ–ª.',
        //         category: '–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–í–æ—Ä–∫—à–æ–ø "–¢–µ—Ö–Ω–∏–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"',
        //         date: '25 –æ–∫—Ç—è–±—Ä—è 2024',
        //         city: '–®—ã–º–∫–µ–Ω—Ç',
        //         description: '–í–æ—Ä–∫—à–æ–ø –ø–æ –º–µ—Ç–æ–¥–∞–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –≤–∫–ª—é—á–∞—è —Ä–∞—Å—Ç—è–∂–∫—É, –º–∞—Å—Å–∞–∂ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ.',
        //         category: '–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–¢—É—Ä–Ω–∏—Ä –ø–æ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–º –∏–≥—Ä–∞–º',
        //         date: '10 –¥–µ–∫–∞–±—Ä—è 2024',
        //         city: '–ê–ª–º–∞—Ç—ã',
        //         description: '–¢—É—Ä–Ω–∏—Ä –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–º –∏–≥—Ä–∞–º, –æ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –¥–æ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏.',
        //         category: '–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     },
        //     {
        //         title: '–ö—É—Ä—Å "–û—Å–Ω–æ–≤—ã –±–µ–≥–∞ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"',
        //         date: '5 –¥–µ–∫–∞–±—Ä—è 2024',
        //         city: '–ù—É—Ä-–°—É–ª—Ç–∞–Ω',
        //         description: '–ö—É—Ä—Å –ø–æ –æ—Å–Ω–æ–≤–∞–º –±–µ–≥–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π.',
        //         category: '–°–ø–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏',
        //         image: 'https://via.placeholder.com/400x200',
        //     }
        // ];

        const eventsList = document.getElementById('eventsList');
        const cityFilter = document.getElementById('cityFilter');
        const categoryFilter = document.getElementById('categoryFilter');
        var user_id = '<%- user_id %>'

        function getEvents() {
            $.ajax({
                url: '/events',
                type: 'POST',
                dataType: 'json',
                success: function (res) {
                    if (!res) res = []
                    console.log(res)
                    globalEvents = res
                    showCoins()
                    renderEvents(res)
                }
            });
        }


        getEvents()
       

        function renderEvents(events) {

            var eventsHTML = ''
            events.forEach(event => {
                if (checkParticipant(event.participants) == 'none') {
                    eventsHTML += `
                        <div class="col-md-4">
                            <div class="card event-card">
                                <div class="card-body">
                                    <h5 class="card-title">${event.title}</h5>
                                    <p class="card-text">${event.date}</p>
                                    <p class="card-text">${event.description}</p>
                                    <p class="card-text"><strong>–ì–æ—Ä–æ–¥:</strong> ${event.city}</p>
                                    <p class="card-text"><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${event.category}</p>
                                    <button class="btn btn-primary" onclick="registerEvent('${event.id}')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                                </div>
                            </div>
                        </div>
                    `
                } else if (checkParticipant(event.participants) == '0') {
                    eventsHTML += `
                        <div class="col-md-4">
                            <div class="card event-card">
                                <div class="card-body">
                                    <h5 class="card-title">${event.title}</h5>
                                    <p class="card-text">${event.date}</p>
                                    <p class="card-text">${event.description}</p>
                                    <p class="card-text"><strong>–ì–æ—Ä–æ–¥:</strong> ${event.city}</p>
                                    <p class="card-text"><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${event.category}</p>
                                    <button class="btn btn-info" onclick="checkedEvent('${event.id}', '${event.secret_key}')">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    `
                } else {
                    eventsHTML += `
                        <div class="col-md-4">
                            <div class="card event-card">
                                <div class="card-body">
                                    <h5 class="card-title">${event.title}</h5>
                                    <p class="card-text">${event.date}</p>
                                    <p class="card-text">${event.description}</p>
                                    <p class="card-text"><strong>–ì–æ—Ä–æ–¥:</strong> ${event.city}</p>
                                    <p class="card-text"><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${event.category}</p>
                                    <button class="btn btn-success" >–í—ã —É–∂–µ –ø–æ—Å–µ—Ç–∏–ª–∏</button>
                                </div>
                            </div>
                        </div>
                    `
                }

            });


            eventsList.innerHTML = eventsHTML
        }

        function checkParticipant(participants) {
            let state = 'none'
            participants.forEach(participant => {
                if (participant.user_id == user_id) state = '0'
                if (participant.status == 1) state = '1'
            })
            return state
        }

        function showCoins() {
            var coins = 0;
            globalEvents.forEach((event) => {
                event.participants.forEach(participant => {
                    if (participant.status == 1) coins++
                })
            })
            $('#coins').html(coins)
        }

        function registerEvent(event_id) {
            $.ajax({
                url: '/events/join',
                type: 'POST',
                data: { event_id: event_id, user_id: user_id },
                dataType: 'json',
                success: function (r) {
                    console.log(r)
                    alert(`–í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ –∏–≤–µ–Ω—Ç`);
                    getEvents()
                }
            })
        }

        function checkedEvent(event_id, key) {
            let user_key = prompt('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è')
            if (user_key == key) {
                $.ajax({
                    url: '/events/checked',
                    type: 'POST',
                    data: { event_id: event_id, user_id: user_id },
                    dataType: 'json',
                    success: function (r) {
                        console.log(r)
                        getEvents()
                        alert(`–í—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –ø–æ—Å–µ—â–µ–Ω–∏–µ –∏–≤–µ–Ω—Ç–∞`);
                    }
                })
            } else {
                alert('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥')
            }
        }


        function filterEvents() {
            const city = cityFilter.value;
            const category = categoryFilter.value;

            const filteredEvents = globalEvents.filter(event => {
                return (city === '–í—Å–µ' || event.city === city) &&
                    (category === '–í—Å–µ' || event.category === category);
            });

            renderEvents(filteredEvents);
        }

        cityFilter.addEventListener('change', filterEvents);
        categoryFilter.addEventListener('change', filterEvents);


    </script>
</body>

</html>